<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CashyAds2 - Watch & Earn</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 0; padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            min-height: 100vh; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; color: white; text-align: center; 
        }
        .container { 
            max-width: 400px; background: rgba(255,255,255,0.1); 
            backdrop-filter: blur(10px); border-radius: 20px; padding: 40px 20px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.3); 
        }
        .status { font-size: 18px; margin: 20px 0; padding: 15px; border-radius: 10px; }
        .success { background: rgba(0,255,0,0.2); }
        .loading { background: rgba(255,193,7,0.3); }
        .error { background: rgba(255,0,0,0.2); }
    </style>
</head>
<body>
    <div class="container">
        <h1>üì∫ CashyAds2</h1>
        <p>Watch complete ad ‚Üí Claim 3-5 Rs!</p>
        <div id="status" class="status loading">‚è≥ Loading rewarded ad...</div>
    </div>

    <!-- YOUR MONETAG AD -->
    <script src='//libtl.com/sdk.js' data-zone='10214030' data-sdk='show_10214030'></script>
    
    <script>
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        
        const status = document.getElementById('status');
        
        // Show ad
        show_10214030().then(() => {
            console.log("‚úÖ AD COMPLETED!");
            status.innerHTML = "‚úÖ Ad watched successfully!<br>üëá Click to claim your reward!";
            status.className = "status success";
            
            // SHOW CLAIM REWARD BUTTON
            Telegram.WebApp.MainButton.setText("üéÅ CLAIM REWARD (3-5 Rs)").show()
                .setParams({color: '#00d4aa', text_color: 'white'})
                .onClick(claimReward);
                
        }).catch((error) => {
            console.error("‚ùå AD ERROR:", error);
            status.innerHTML = "‚ùå Ad failed. Try again later!";
            status.className = "status error";
            Telegram.WebApp.MainButton.setText("‚ùå Try Again").onClick(retryAd);
        });
        
        function claimReward() {
            console.log("üéÅ CLAIMING REWARD!");
            Telegram.WebApp.sendData(JSON.stringify({ad_completed: true, claimed: true}));
            Telegram.WebApp.close();
        }
        
        function retryAd() {
            location.reload();
        }
    </script>
</body>
</html>
